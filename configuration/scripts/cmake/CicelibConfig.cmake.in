@PACKAGE_INIT@

# Request components
set(_required_components ${Cicelib_FIND_COMPONENTS})


# Check indirect dependencies
set(CICE_IO @CICE_IO@)

if(CICE_IO MATCHES "NetCDF")
    find_dependency(NetCDF REQUIRED Fortran)
elseif(CICE_IO MATCHES "PIO")
    if (NOT TARGET PIO::PIO_Fortran)
        find_dependency(PIO REQUIRED COMPONENTS C Fortran)
    endif()
    find_dependency(NetCDF REQUIRED Fortran)
endif()

# Request components
set(_required_components ${Cicelib_FIND_COMPONENTS})

# Run the normal Targets.cmake
list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})
include("${CMAKE_CURRENT_LIST_DIR}/CicelibTargets.cmake")
list(REMOVE_ITEM CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})

# Check the requested components are valid
check_required_components(_required_components)